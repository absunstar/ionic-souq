<ion-app class="main-content">
  <ion-content>
    <div class="tags">
      <ion-item class="tag-list">
        <ion-col *ngFor="let top_category of top_category_list">
          <a
            (click)="loadPosts({more : false , category_id :top_category.id })"
          >
            <img src="{{top_category.image_url}}" />
            <p>{{top_category.name_ar}}</p>
          </a>
        </ion-col>
      </ion-item>
    </div>
    <ion-list>
      <ion-item
        class="content-items"
        button
        *ngFor="let content of isite.db.contentList"
        [routerLink]="['/content-details']"
        [queryParams]="{id: content.id}"
      >

        <ion-avatar slot="start" class="avatar-content">
          <img [src]="content.image_url" />
        </ion-avatar>

        <ion-label class="ion-text-wrap">
          <p class="ellipsis-txt font-18 main-color bold">{{ content.name }}</p>
          <p class="time-publish">
            {{content.$time}} <ion-icon name="time-outline"></ion-icon>
          </p>

        </ion-label>
        <!-- ion-badge -->
        <ion-label slot="end">
          <div *ngIf="content.set_price == 'yes'">
            <p class="price">
              <span *ngIf="content.quantity_list[0].discount > 0" class="line-through red"
                >{{content.quantity_list[0].price}} {{content.quantity_list[0].currency.name_ar}}</span
              >
              <span class="green"> {{content.quantity_list[0].net_value}} </span>
              {{content.quantity_list[0].currency.name_ar}}
              <span *ngIf="content.quantity_list[0].unit.id"> / {{content.quantity_list[0].unit.name_ar}} </span>
            </p>
           <!--  <p class="save-money" *ngIf="content.quantity_list[0].discount > 0">
              وفر {{content.quantity_list[0].discount}}
              <span *ngIf="content.quantity_list[0].discount_type == 'percent'"> % </span>
              <span *ngIf="content.quantity_list[0].discount_type == 'number'"> $ </span>
            </p> -->
          </div>
          <p class="time-publish text-right" *ngIf="content.address.country.id">
            {{content.address.gov.name_ar}}
            <ion-icon name="location-outline"></ion-icon>
          </p>
          <p class="time-publish text-right">{{ content.store.user.profile.name }} <ion-icon name="person-outline"></ion-icon></p>

        </ion-label>
      </ion-item>
    </ion-list>

    <ion-infinite-scroll (ionInfinite)="loadMore($event)">
      <ion-infinite-scroll-content loadingSpinner="bubbles">
      </ion-infinite-scroll-content>
    </ion-infinite-scroll>
  </ion-content>
</ion-app>
